# Level 2（系统构建与工程化）10 周周计划（每周 5 课时）

## 每周授课节奏（建议模板）

*   **2 课时**：架构与设计（系统拆解、边界条件、风险与权衡）
*   **1 课时**：案例拆解（开源项目/经典架构/失败复盘）
*   **2 课时**：Workshop（把系统跑起来、补齐边界与可观测性）

---

## 10 周基准计划（10W Baseline）

### Week 1：从需求到架构（AI 应用系统视角）

*   **讲授（3h）**：需求拆解、模块边界、SLA/成本/隐私；API 契约与错误码
*   **Workshop（2h）**：搭建 FastAPI 基础骨架（配置、日志、health check、基础路由）
*   **产出**：可运行服务骨架 + README

### Week 2：RAG 架构全景与数据导入（ETL）

*   **讲授（3h）**：RAG 流程与失败模式；数据导入/清洗/去噪；文档结构化
*   **Workshop（2h）**：实现数据导入管线：文件 -> 文本解析 -> chunk -> 索引
*   **产出**：`ingest.py`（可重复运行、增量更新策略说明）

### Week 3：Chunking 与 Embedding（检索质量的第一关键）

*   **讲授（3h）**：chunk 大小/重叠/结构；embedding 选择与维度直觉
*   **Workshop（2h）**：对比 2 种 chunking 方案，记录检索命中与响应质量差异
*   **产出**：chunking 实验报告 + 可复现实验脚本

### Week 4：Vector DB 与 Retrieval（召回与过滤）

*   **讲授（3h）**：向量库基本概念、元数据过滤、top-k；召回与精确的权衡
*   **Workshop（2h）**：接入 Chroma/Milvus；实现检索 API（带过滤与分页策略说明）
*   **产出**：`/search` API + 最小数据集演示

### Week 5：Rerank 与引用溯源（让答案可解释）

*   **讲授（3h）**：混合检索与 rerank 何时必要；引用/溯源的产品与合规价值
*   **Workshop（2h）**：加入 rerank（可选）+ 强制引用输出（回答必须带来源片段）
*   **产出**：RAG v1：回答 + 引用 + 失败策略（拒答/澄清）

### Week 6：RAG 评测与反馈闭环（最小可行）

*   **讲授（3h）**：离线评测（命中/覆盖/一致性）与在线反馈；评测集怎么做小而有效
*   **Workshop（2h）**：构建一个最小评测集（20-50 条）+ 评测脚本（可复现输出指标）
*   **产出**：`eval_rag.py` + 失败样例集

### Week 7：Agent Workflow（工具调用与状态管理）

*   **讲授（3h）**：ReAct/Planning/Reflection；工具契约（schema/重试/超时/降级）
*   **Workshop（2h）**：实现一个 Research Agent：规划 -> 搜索 -> 摘要 -> 结论
*   **产出**：Agent v1（可运行）+ workflow 设计文档

### Week 8：多智能体与任务分解（可控复杂度）

*   **讲授（3h）**：多智能体分工、冲突与一致性；何时不该上多智能体
*   **Workshop（2h）**：实现“检索/写作/审稿”三角色协作，加入失败恢复
*   **产出**：Agent v2（含失败恢复）

### Week 9：把 RAG + Agent 变成产品（服务化与前端）

*   **讲授（3h）**：会话管理、权限与审计、成本控制；前后端边界
*   **Workshop（2h）**：把系统打包成 Demo：对话接口 + 数据导入后台 + 反馈按钮
*   **产出**：Capstone 基线版本（可演示）

### Week 10：Capstone 冲刺与答辩（可验收交付）

*   **讲授（3h）**：演示叙事（demo story）、风险与限制说明、下一步迭代路线
*   **Workshop（2h）**：压测/稳定性修补、评测复跑、最终答辩与走读
*   **产出**：Capstone 最终交付 + 复盘文档

---

## 8 周压缩建议（8W Compression）

*   **合并 Week 2-3**：数据导入 + chunking/embedding 一次做完，以“能用”为目标
*   **合并 Week 4-5**：retrieval + 引用溯源合并；rerank 作为加分项
*   **Week 8（多智能体）**：可选；若压缩则将其作为 Capstone 的扩展功能

---

## 12 周扩展建议（12W Expansion）

*   插入 1 周：**安全与提示词注入防护**（工具白名单、内容过滤、检索污染防护）
*   插入 1 周：**可观测性与线上运维**（trace、指标、告警、成本监控与回放）
*   Capstone 多 1 周：做一次“反馈驱动迭代”（基于失败样例调整 chunk/retrieval/prompt）
