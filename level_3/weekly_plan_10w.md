# Level 3（深度优化与专家阶段）10 周周计划（每周 5 课时）

## 每周授课节奏（建议模板）

*   **2 课时**：原理与设计权衡（为什么这么做、边界在哪里）
*   **1 课时**：案例拆解（开源实现/生产问题复盘/论文思路）
*   **2 课时**：实验/部署 Workshop（跑通、记录、对比、定位瓶颈）

---

## 10 周基准计划（10W Baseline）

### Week 1：实验可复现与数据版本化（为微调做准备）

*   **讲授（3h）**：实验记录规范、数据版本与泄漏、训练日志与回滚；最小对照实验设计
*   **Workshop（2h）**：建立实验模板：配置文件 + 日志目录 + 结果汇总脚本
*   **产出**：`experiments/` 模板（能跑一次 baseline 推理评测）

### Week 2：微调全景（SFT/LoRA/QLoRA）与数据结构

*   **讲授（3h）**：SFT 与对齐流程直觉；LoRA/QLoRA 的参数效率与边界
*   **Workshop（2h）**：准备指令数据格式（instruction/input/output）；构建数据审计脚本
*   **产出**：数据审计报告（长度分布/重复率/敏感信息排查策略说明）

### Week 3：SFT 实战（第一条可复现训练链路）

*   **讲授（3h）**：训练超参、过拟合迹象、checkpoint 策略；训练失败的常见原因
*   **Workshop（2h）**：跑通一次 LoRA 微调，导出 adapter 并进行推理验证
*   **产出**：一次完整实验记录（配置、曲线、样例、失败点）

### Week 4：微调评测（证明是否变好）

*   **讲授（3h）**：评测设计（基准集/对照/盲测）；LLM-as-a-Judge 的风险与校准思路
*   **Workshop（2h）**：搭建评测脚本：对比 base vs fine-tuned，输出指标 + 失败样例
*   **产出**：`eval_compare.py` + 失败样例分析

### Week 5：偏好优化与数据迭代（选修方向，可做轻量 DPO）

*   **讲授（3h）**：偏好数据、DPO/RLHF 直觉；何时该做、何时不该做
*   **Workshop（2h）**：基于失败样例做一轮数据迭代（补数据/改模板/再训练）
*   **产出**：迭代证据包（问题 -> 数据改动 -> 结果对比）

### Week 6：量化（质量-性能-成本三角）

*   **讲授（3h）**：GGUF/AWQ/GPTQ 的基本差异；量化误差与任务敏感性
*   **Workshop（2h）**：做一次量化对比：质量回归 + 显存/速度收益记录
*   **产出**：量化对比报告（收益与代价）

### Week 7：推理服务化与并发（vLLM 或等价方案）

*   **讲授（3h）**：吞吐/延迟/p95/p99；批处理、KV cache、流式输出；限流与熔断
*   **Workshop（2h）**：部署推理服务 + 写压测脚本，输出延迟分布与吞吐
*   **产出**：压测结果与瓶颈初步分析

### Week 8：线上可用性（监控、回放、降级）

*   **讲授（3h）**：可观测最小集（日志/指标/trace）；故障回放；降级策略（模型/检索/功能）
*   **Workshop（2h）**：为推理服务加入健康检查、基本指标输出与失败重试/降级策略
*   **产出**：可运行的“线上最小可用”部署形态说明

### Week 9：Meta Learning 强化（源码阅读 + 复杂 Debug 演练）

*   **讲授（3h）**：源码阅读路径；最小复现/二分定位；OOM 与性能瓶颈定位套路
*   **Workshop（2h）**：完成一次“问题档案”：从报错 -> 复现 -> 定位 -> 修复 -> 回归
*   **产出**：Issue Dossier（可复现、可回归）

### Week 10：Capstone 全链路答辩（企业级方案）

*   **讲授（3h）**：如何呈现“效果证据 + 性能证据 + 风险说明”；如何写技术方案文档
*   **Workshop（2h）**：最终答辩与走读：流水线复现、评测复跑、压测复现
*   **产出**：Capstone 最终交付 + 复盘与下一步路线

---

## 8 周压缩建议（8W Compression）

*   **合并 Week 2-3**：数据准备 + LoRA 微调一次跑通
*   **合并 Week 4-5**：评测 + 轻量迭代合并，以“有证据”为底线
*   **Week 8（线上可用性）**：压缩为“最小监控 + 健康检查 + 降级策略说明”

---

## 12 周扩展建议（12W Expansion）

*   插入 1 周：**数据质量与对齐风险**（偏差、敏感内容、红队测试、合规）
*   插入 1 周：**性能深挖**（profiling、GPU 利用率、batch 策略、KV cache 调优）
*   Capstone 多 1 周：做一次“线上回放评测”与“失败样例驱动的数据再迭代”
